{% extends "admin/base.html" %}
{% block title %}Dashboard{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<div class="stats-grid">
  <div class="stat-card">
    <div class="stat-icon" style="background:rgba(200,98,26,.12);color:var(--accent)"><i class="fas fa-code"></i></div>
    <div><div class="stat-num">{{ stats.projects }}</div><div class="stat-label">Projects</div></div>
  </div>
  <div class="stat-card">
    <div class="stat-icon" style="background:rgba(22,163,74,.12);color:#16a34a"><i class="fas fa-certificate"></i></div>
    <div><div class="stat-num">{{ stats.certificates }}</div><div class="stat-label">Certificates</div></div>
  </div>
  <div class="stat-card">
    <div class="stat-icon" style="background:rgba(37,99,235,.1);color:#2563eb"><i class="fas fa-graduation-cap"></i></div>
    <div><div class="stat-num">{{ stats.education }}</div><div class="stat-label">Education</div></div>
  </div>
  <div class="stat-card">
    <div class="stat-icon" style="background:rgba(124,58,237,.1);color:#7c3aed"><i class="fas fa-briefcase"></i></div>
    <div><div class="stat-num">{{ stats.experience }}</div><div class="stat-label">Experience</div></div>
  </div>
</div>

<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;">
  <div class="card">
    <div class="card-header"><span class="card-title">Quick Actions</span></div>
    <div class="card-body">
      <div style="display:flex;flex-direction:column;gap:.75rem;">
        <a href="{{ url_for('admin_personal') }}" class="btn btn-outline" style="justify-content:flex-start"><i class="fas fa-user"></i> Edit Personal Info</a>
        <a href="{{ url_for('admin_projects') }}" class="btn btn-outline" style="justify-content:flex-start"><i class="fas fa-code"></i> Manage Projects</a>
        <a href="{{ url_for('admin_certificates') }}" class="btn btn-outline" style="justify-content:flex-start"><i class="fas fa-certificate"></i> Manage Certificates</a>
        <a href="{{ url_for('admin_education') }}" class="btn btn-outline" style="justify-content:flex-start"><i class="fas fa-graduation-cap"></i> Manage Education</a>
        <a href="{{ url_for('admin_experience') }}" class="btn btn-outline" style="justify-content:flex-start"><i class="fas fa-briefcase"></i> Manage Experience</a>
        <a href="{{ url_for('index') }}" target="_blank" class="btn btn-primary" style="justify-content:flex-start"><i class="fas fa-eye"></i> Preview Portfolio</a>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header"><span class="card-title">Portfolio Status</span></div>
    <div class="card-body">
      {% if student %}
      <div style="display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--surface2);border-radius:12px;margin-bottom:1rem;">
        {% if student.profile_image %}
        <img src="{{ url_for('static', filename=student.profile_image) }}" style="width:56px;height:56px;border-radius:50%;object-fit:cover;border:2px solid var(--accent);">
        {% else %}
        <div style="width:56px;height:56px;border-radius:50%;background:var(--accent-glow);display:flex;align-items:center;justify-content:center;color:var(--accent);font-size:1.5rem;"><i class="fas fa-user"></i></div>
        {% endif %}
        <div>
          <div style="font-weight:700;font-size:1rem;">{{ student.name }}</div>
          <div style="font-size:.85rem;color:var(--text-muted)">{{ student.tagline or 'No tagline set' }}</div>
          <div style="font-size:.8rem;color:var(--accent);margin-top:.2rem">{{ student.email or 'No email' }}</div>
        </div>
      </div>
      {% endif %}
      <div style="display:flex;flex-direction:column;gap:.5rem;">
        <div style="display:flex;justify-content:space-between;align-items:center;font-size:.88rem;padding:.5rem 0;border-bottom:1px solid var(--border)">
          <span>Profile Image</span>
          <span class="badge {% if student and student.profile_image %}badge-green{% else %}badge-accent{% endif %}">{% if student and student.profile_image %}✓ Set{% else %}Missing{% endif %}</span>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;font-size:.88rem;padding:.5rem 0;border-bottom:1px solid var(--border)">
          <span>About Section</span>
          <span class="badge {% if student and student.about %}badge-green{% else %}badge-accent{% endif %}">{% if student and student.about %}✓ Set{% else %}Missing{% endif %}</span>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;font-size:.88rem;padding:.5rem 0;border-bottom:1px solid var(--border)">
          <span>Skills</span>
          <span class="badge {% if student and student.skills %}badge-green{% else %}badge-accent{% endif %}">{% if student and student.skills %}✓ Set{% else %}Missing{% endif %}</span>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;font-size:.88rem;padding:.5rem 0">
          <span>GitHub Link</span>
          <span class="badge {% if student and student.github %}badge-green{% else %}badge-accent{% endif %}">{% if student and student.github %}✓ Set{% else %}Missing{% endif %}</span>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
