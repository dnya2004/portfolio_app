{% extends "admin/base.html" %}
{% block title %}Education{% endblock %}
{% block page_title %}Education{% endblock %}

{% block content %}
<div style="display:grid;grid-template-columns:1fr 380px;gap:1.5rem;align-items:start;">

  <!-- List -->
  <div class="card">
    <div class="card-header">
      <span class="card-title"><i class="fas fa-graduation-cap" style="margin-right:.5rem;color:var(--accent)"></i>Education Records</span>
      <span class="badge badge-accent">{{ items|length }} records</span>
    </div>
    {% if items %}
    <div class="table-wrap">
      <table>
        <thead><tr><th>Logo</th><th>Degree</th><th>Institution</th><th>Period</th><th>Grade</th><th>Actions</th></tr></thead>
        <tbody>
          {% for edu in items %}
          <tr>
            <td>{% if edu.logo %}<img class="table-img" src="{{ url_for('static', filename=edu.logo) }}" alt="">{% else %}<div class="table-img-ph"><i class="fas fa-university"></i></div>{% endif %}</td>
            <td><strong>{{ edu.degree }}</strong>{% if edu.field %}<br><small style="color:var(--text-muted)">{{ edu.field }}</small>{% endif %}</td>
            <td>{{ edu.institution }}</td>
            <td style="font-size:.82rem;white-space:nowrap">{{ edu.start_year }} – {{ edu.end_year or 'Present' }}</td>
            <td>{% if edu.grade %}<span class="badge badge-green">{{ edu.grade }}</span>{% endif %}</td>
            <td><a href="{{ url_for('admin_education_delete', id=edu.id) }}" class="btn btn-danger btn-sm" onclick="return confirm('Delete this education record?')"><i class="fas fa-trash"></i></a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="card-body" style="text-align:center;padding:3rem;color:var(--text-muted)">
      <i class="fas fa-graduation-cap" style="font-size:3rem;opacity:.3;margin-bottom:1rem;display:block"></i>
      <p>No education records yet. Add your first one →</p>
    </div>
    {% endif %}
  </div>

  <!-- Add Form -->
  <div class="card">
    <div class="card-header"><span class="card-title"><i class="fas fa-plus" style="margin-right:.5rem;color:var(--accent)"></i>Add Education</span></div>
    <div class="card-body">
      <form method="POST" action="{{ url_for('admin_education_add') }}" enctype="multipart/form-data">
        <div class="form-group">
          <label class="form-label">Degree / Qualification *</label>
          <input class="form-control" type="text" name="degree" placeholder="B.Tech Computer Science" required>
        </div>
        <div class="form-group">
          <label class="form-label">Institution *</label>
          <input class="form-control" type="text" name="institution" placeholder="MIT / IIT Bombay" required>
        </div>
        <div class="form-group">
          <label class="form-label">Field of Study</label>
          <input class="form-control" type="text" name="field" placeholder="Computer Science & Engineering">
        </div>
        <div class="form-grid-2">
          <div class="form-group">
            <label class="form-label">Start Year</label>
            <input class="form-control" type="text" name="start_year" placeholder="2020">
          </div>
          <div class="form-group">
            <label class="form-label">End Year</label>
            <input class="form-control" type="text" name="end_year" placeholder="2024 or blank">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Grade / CGPA</label>
          <input class="form-control" type="text" name="grade" placeholder="9.2 CGPA / First Class">
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-control" name="description" rows="3" placeholder="Key subjects, achievements, activities..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Institution Logo</label>
          <input class="form-control" type="file" name="logo" accept="image/*">
        </div>
        <button class="btn btn-primary" type="submit" style="width:100%;justify-content:center"><i class="fas fa-plus"></i> Add Education</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
