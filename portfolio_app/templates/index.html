{% extends "base.html" %}
{% block title %}{{ student.name }} — Portfolio{% endblock %}

{% block extra_css %}
/* ── Hero ───────────────────────────────── */
.hero{min-height:100vh;display:flex;align-items:center;padding-top:68px;position:relative;overflow:hidden;}
.hero-bg{position:absolute;inset:0;z-index:0;}
.hero-bg::before{content:'';position:absolute;width:600px;height:600px;background:radial-gradient(circle,var(--accent-glow) 0%,transparent 70%);top:-100px;right:-100px;border-radius:50%;}
.hero-bg::after{content:'';position:absolute;width:400px;height:400px;background:radial-gradient(circle,rgba(37,99,235,.06) 0%,transparent 70%);bottom:0;left:-50px;border-radius:50%;}
.hero-inner{position:relative;z-index:1;display:grid;grid-template-columns:1fr 420px;gap:4rem;align-items:center;}
.hero-greeting{font-size:.9rem;font-weight:600;letter-spacing:.12em;text-transform:uppercase;color:var(--accent);margin-bottom:1rem;display:flex;align-items:center;gap:.6rem;}
.hero-greeting::before{content:'';width:30px;height:2px;background:var(--accent);}
.hero-name{font-family:var(--font-display);font-size:clamp(2.8rem,6vw,4.5rem);font-weight:900;line-height:1.08;letter-spacing:-.03em;margin-bottom:.75rem;}
.hero-tagline{font-size:1.15rem;color:var(--text-muted);margin-bottom:2rem;max-width:480px;line-height:1.7;}
.hero-cta{display:flex;gap:1rem;flex-wrap:wrap;}
.hero-img-wrap{display:flex;justify-content:center;}
.hero-img-ring{width:340px;height:340px;border-radius:50%;padding:6px;background:linear-gradient(135deg,var(--accent),var(--accent-2));position:relative;}
.hero-img-ring::after{content:'';position:absolute;inset:-12px;border-radius:50%;border:2px dashed var(--border);animation:spin 20s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
.hero-img{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid var(--surface);}
.hero-img-placeholder{width:100%;height:100%;border-radius:50%;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-size:5rem;color:var(--border);}
.hero-socials{display:flex;gap:.75rem;margin-top:1.5rem;}
.social-icon{width:42px;height:42px;border-radius:10px;background:var(--surface2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--text-muted);transition:all .2s;}
.social-icon:hover{background:var(--accent);border-color:var(--accent);color:#fff;}

/* ── About ──────────────────────────────── */
#about{background:var(--surface2);}
.about-grid{display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center;}
.skills-grid{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:1.5rem;}
.skill-tag{padding:.4rem .9rem;background:var(--surface);border:1px solid var(--border);border-radius:100px;font-size:.82rem;font-weight:500;color:var(--text-muted);transition:all .2s;cursor:default;}
.skill-tag:hover{border-color:var(--accent);color:var(--accent);}
.stat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:2rem;}
.stat-box{text-align:center;padding:1.25rem;background:var(--surface);border-radius:14px;border:1px solid var(--border);}
.stat-num{font-family:var(--font-display);font-size:2rem;font-weight:900;color:var(--accent);}
.stat-label{font-size:.8rem;color:var(--text-muted);margin-top:.2rem;}

/* ── Education ──────────────────────────── */
.timeline{position:relative;padding-left:2rem;}
.timeline::before{content:'';position:absolute;left:0;top:0;bottom:0;width:2px;background:linear-gradient(to bottom,var(--accent),transparent);}
.timeline-item{position:relative;margin-bottom:2rem;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:14px;box-shadow:var(--card-shadow);}
.timeline-item::before{content:'';position:absolute;left:-2.45rem;top:1.75rem;width:14px;height:14px;border-radius:50%;background:var(--accent);border:3px solid var(--bg);}
.edu-head{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem;}
.edu-logo{width:48px;height:48px;border-radius:12px;object-fit:cover;border:1px solid var(--border);}
.edu-logo-ph{width:48px;height:48px;border-radius:12px;background:var(--surface2);display:flex;align-items:center;justify-content:center;color:var(--accent);font-size:1.3rem;}
.edu-degree{font-family:var(--font-display);font-size:1.1rem;font-weight:700;}
.edu-inst{font-size:.9rem;color:var(--text-muted);}
.edu-meta{display:flex;gap:1rem;flex-wrap:wrap;margin-top:.5rem;}
.edu-meta span{font-size:.82rem;color:var(--text-muted);display:flex;align-items:center;gap:.3rem;}

/* ── Experience ─────────────────────────── */
#experience{background:var(--surface2);}
.exp-card{display:flex;gap:1.25rem;padding:1.5rem;background:var(--surface);border-radius:14px;border:1px solid var(--border);box-shadow:var(--card-shadow);margin-bottom:1rem;transition:transform .2s;}
.exp-card:hover{transform:translateX(4px);}
.exp-logo{width:52px;height:52px;min-width:52px;border-radius:12px;object-fit:cover;border:1px solid var(--border);}
.exp-logo-ph{width:52px;height:52px;min-width:52px;border-radius:12px;background:var(--surface2);display:flex;align-items:center;justify-content:center;color:var(--accent);font-size:1.4rem;}
.exp-role{font-weight:700;font-size:1rem;}
.exp-company{color:var(--text-muted);font-size:.9rem;}
.exp-dates{font-size:.8rem;color:var(--accent);font-weight:600;margin-top:.25rem;}
.exp-desc{font-size:.9rem;color:var(--text-muted);margin-top:.5rem;line-height:1.6;}
.current-badge{display:inline-flex;align-items:center;gap:.3rem;font-size:.72rem;font-weight:700;background:rgba(22,163,74,.15);color:#16a34a;border:1px solid #16a34a;border-radius:100px;padding:.2rem .6rem;}

/* ── Projects ───────────────────────────── */
.filter-bar{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:2rem;}
.filter-btn{padding:.45rem 1.1rem;border-radius:100px;border:1.5px solid var(--border);background:transparent;color:var(--text-muted);font-size:.85rem;font-weight:500;cursor:pointer;font-family:var(--font-body);transition:all .2s;}
.filter-btn.active,.filter-btn:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-glow);}
.project-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden;transition:transform .25s,box-shadow .25s;box-shadow:var(--card-shadow);}
.project-card:hover{transform:translateY(-6px);box-shadow:0 16px 48px rgba(0,0,0,.12);}
.project-img{width:100%;height:210px;object-fit:cover;}
.project-img-ph{width:100%;height:210px;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-size:3.5rem;color:var(--border);}
.project-body{padding:1.4rem;}
.project-title{font-family:var(--font-display);font-size:1.15rem;font-weight:700;margin-bottom:.5rem;}
.project-desc{font-size:.88rem;color:var(--text-muted);line-height:1.6;margin-bottom:1rem;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;}
.tech-tags{display:flex;flex-wrap:wrap;gap:.4rem;margin-bottom:1rem;}
.tech-tag{font-size:.75rem;padding:.2rem .6rem;background:var(--surface2);border-radius:6px;color:var(--text-muted);font-weight:500;}
.project-links{display:flex;gap:.6rem;}

/* ── Certificates ───────────────────────── */
#certificates{background:var(--surface2);}
.cert-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;}
.cert-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:var(--card-shadow);transition:transform .25s,box-shadow .25s;}
.cert-card:hover{transform:translateY(-5px);box-shadow:0 14px 42px rgba(0,0,0,.11);}
.cert-img-wrap{position:relative;overflow:hidden;height:200px;background:var(--surface2);cursor:pointer;}
.cert-img{width:100%;height:100%;object-fit:cover;transition:transform .3s;}
.cert-img-wrap:hover .cert-img{transform:scale(1.05);}
.cert-img-ph{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:3rem;color:var(--border);flex-direction:column;gap:.5rem;}
.cert-overlay{position:absolute;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s;}
.cert-img-wrap:hover .cert-overlay{opacity:1;}
.cert-overlay i{color:#fff;font-size:2rem;}
.cert-body{padding:1.25rem;}
.cert-title{font-weight:700;font-size:.98rem;margin-bottom:.4rem;}
.cert-issuer{font-size:.85rem;color:var(--text-muted);display:flex;align-items:center;gap:.4rem;}
.cert-date{font-size:.8rem;color:var(--accent);margin-top:.3rem;}
.cert-id{font-size:.75rem;color:var(--text-muted);margin-top:.2rem;font-family:monospace;}

/* ── Lightbox ────────────────────────────── */
.lightbox{position:fixed;inset:0;z-index:2000;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;padding:2rem;}
.lightbox.open{display:flex;}
.lightbox img{max-width:90vw;max-height:90vh;border-radius:8px;object-fit:contain;}
.lightbox-close{position:absolute;top:1.5rem;right:1.5rem;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;}

/* ── Contact ─────────────────────────────── */
.contact-grid{display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:start;}
.contact-item{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:var(--surface);border:1px solid var(--border);border-radius:14px;margin-bottom:1rem;transition:border-color .2s;}
.contact-item:hover{border-color:var(--accent);}
.contact-icon{width:46px;height:46px;border-radius:12px;background:var(--accent-glow);color:var(--accent);display:flex;align-items:center;justify-content:center;font-size:1.2rem;}
.contact-label{font-size:.8rem;color:var(--text-muted);}
.contact-value{font-weight:600;font-size:.95rem;}
.social-links{display:flex;gap:.75rem;margin-top:1.5rem;flex-wrap:wrap;}
.social-link{display:flex;align-items:center;gap:.5rem;padding:.6rem 1.1rem;background:var(--surface);border:1px solid var(--border);border-radius:10px;font-size:.85rem;font-weight:500;color:var(--text-muted);transition:all .2s;}
.social-link:hover{border-color:var(--accent);color:var(--accent);}

/* ── Responsive ─────────────────────────── */
@media(max-width:960px){
  .hero-inner,.about-grid,.contact-grid{grid-template-columns:1fr;}
  .hero-img-wrap{order:-1;}
  .hero-img-ring{width:260px;height:260px;margin:0 auto;}
}
@media(max-width:600px){
  .stat-grid{grid-template-columns:1fr 1fr;}
}
{% endblock %}

{% block content %}
<!-- ── Hero ─────────────────────────── -->
<section class="hero" id="home">
  <div class="hero-bg"></div>
  <div class="container">
    <div class="hero-inner">
      <div class="hero-content">
        <p class="hero-greeting">Hello, I'm</p>
        <h1 class="hero-name">{{ student.name }}</h1>
        <p class="hero-tagline">{{ student.tagline or 'Passionate developer building amazing digital experiences.' }}</p>
        <div class="hero-cta">
          <a href="#projects" class="btn btn-primary"><i class="fas fa-rocket"></i> View Projects</a>
          <a href="#contact" class="btn btn-outline"><i class="fas fa-envelope"></i> Contact Me</a>
        </div>
        <div class="hero-socials">
          {% if student.github %}<a href="{{ student.github }}" target="_blank" class="social-icon"><i class="fab fa-github"></i></a>{% endif %}
          {% if student.linkedin %}<a href="{{ student.linkedin }}" target="_blank" class="social-icon"><i class="fab fa-linkedin-in"></i></a>{% endif %}
          {% if student.twitter %}<a href="{{ student.twitter }}" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>{% endif %}
          {% if student.website %}<a href="{{ student.website }}" target="_blank" class="social-icon"><i class="fas fa-globe"></i></a>{% endif %}
        </div>
      </div>
      <div class="hero-img-wrap">
        <div class="hero-img-ring">
          {% if student.profile_image %}
          <img class="hero-img" src="{{ url_for('static', filename=student.profile_image) }}" alt="{{ student.name }}">
          {% else %}
          <div class="hero-img-placeholder"><i class="fas fa-user"></i></div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ── About ─────────────────────────── -->
<section id="about">
  <div class="container">
    <div class="about-grid">
      <div>
        <p class="section-label">Who I Am</p>
        <h2 class="section-title">About <span>Me</span></h2>
        <p style="color:var(--text-muted);line-height:1.8;">{{ student.about or 'A passionate student with a love for technology and problem-solving. I enjoy creating innovative solutions and bringing ideas to life through code.' }}</p>
        <div class="stat-grid">
          <div class="stat-box"><div class="stat-num">{{ projects|length }}</div><div class="stat-label">Projects</div></div>
          <div class="stat-box"><div class="stat-num">{{ certificates|length }}</div><div class="stat-label">Certificates</div></div>
          <div class="stat-box"><div class="stat-num">{{ education|length }}</div><div class="stat-label">Degrees</div></div>
        </div>
      </div>
      <div>
        <p class="section-label">Skills & Technologies</p>
        <h3 style="font-family:var(--font-display);font-size:1.5rem;margin-bottom:1rem;">What I Work With</h3>
        <div class="skills-grid">
          {% for skill in skills %}<span class="skill-tag">{{ skill }}</span>{% endfor %}
          {% if not skills %}<p style="color:var(--text-muted)">No skills added yet.</p>{% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ── Education ─────────────────────── -->
<section id="education">
  <div class="container">
    <p class="section-label">My Journey</p>
    <h2 class="section-title">Education & <span>Academics</span></h2>
    {% if education %}
    <div class="timeline">
      {% for edu in education %}
      <div class="timeline-item">
        <div class="edu-head">
          {% if edu.logo %}<img class="edu-logo" src="{{ url_for('static', filename=edu.logo) }}" alt="">
          {% else %}<div class="edu-logo-ph"><i class="fas fa-university"></i></div>{% endif %}
          <div>
            <div class="edu-degree">{{ edu.degree }}</div>
            <div class="edu-inst">{{ edu.institution }}</div>
          </div>
          {% if edu.grade %}<div class="badge" style="margin-left:auto;">{{ edu.grade }}</div>{% endif %}
        </div>
        {% if edu.field %}<p style="font-size:.9rem;color:var(--text-muted);margin-bottom:.5rem;"><i class="fas fa-book" style="margin-right:.4rem"></i>{{ edu.field }}</p>{% endif %}
        <div class="edu-meta">
          <span><i class="fas fa-calendar"></i>{{ edu.start_year }} — {{ edu.end_year or 'Present' }}</span>
        </div>
        {% if edu.description %}<p style="font-size:.88rem;color:var(--text-muted);margin-top:.75rem;line-height:1.6;">{{ edu.description }}</p>{% endif %}
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p style="color:var(--text-muted)">No education records yet.</p>
    {% endif %}
  </div>
</section>

<!-- ── Experience ─────────────────────── -->
{% if experience %}
<section id="experience">
  <div class="container">
    <p class="section-label">Work History</p>
    <h2 class="section-title">My <span>Experience</span></h2>
    {% for exp in experience %}
    <div class="exp-card">
      {% if exp.logo %}<img class="exp-logo" src="{{ url_for('static', filename=exp.logo) }}" alt="">
      {% else %}<div class="exp-logo-ph"><i class="fas fa-building"></i></div>{% endif %}
      <div style="flex:1">
        <div style="display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;">
          <span class="exp-role">{{ exp.role }}</span>
          {% if exp.current %}<span class="current-badge"><i class="fas fa-circle"></i> Current</span>{% endif %}
        </div>
        <div class="exp-company">{{ exp.company }}</div>
        <div class="exp-dates"><i class="fas fa-calendar" style="margin-right:.4rem"></i>{{ exp.start_date }} — {{ 'Present' if exp.current else exp.end_date }}</div>
        {% if exp.description %}<p class="exp-desc">{{ exp.description }}</p>{% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>
{% endif %}

<!-- ── Projects ─────────────────────── -->
<section id="projects">
  <div class="container">
    <p class="section-label">My Work</p>
    <h2 class="section-title">Featured <span>Projects</span></h2>
    {% if categories %}
    <div class="filter-bar">
      <button class="filter-btn active" onclick="filterProjects('all', this)">All</button>
      {% for cat in categories %}<button class="filter-btn" onclick="filterProjects('{{ cat }}', this)">{{ cat }}</button>{% endfor %}
    </div>
    {% endif %}
    {% if projects %}
    <div class="grid-3" id="projectGrid">
      {% for proj in projects %}
      <div class="project-card" data-cat="{{ proj.category or 'all' }}">
        {% if proj.image %}<img class="project-img" src="{{ url_for('static', filename=proj.image) }}" alt="{{ proj.title }}">
        {% else %}<div class="project-img-ph"><i class="fas fa-code"></i></div>{% endif %}
        <div class="project-body">
          <div style="display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;">
            <h3 class="project-title" style="margin:0">{{ proj.title }}</h3>
            {% if proj.featured %}<span class="badge"><i class="fas fa-star"></i> Featured</span>{% endif %}
          </div>
          <p class="project-desc">{{ proj.description }}</p>
          {% if proj.tech_stack %}
          <div class="tech-tags">
            {% for tech in proj.tech_stack.split(',') %}<span class="tech-tag">{{ tech.strip() }}</span>{% endfor %}
          </div>
          {% endif %}
          <div class="project-links">
            {% if proj.github_link %}<a href="{{ proj.github_link }}" target="_blank" class="btn btn-outline btn-sm"><i class="fab fa-github"></i> Code</a>{% endif %}
            {% if proj.live_link %}<a href="{{ proj.live_link }}" target="_blank" class="btn btn-primary btn-sm"><i class="fas fa-external-link-alt"></i> Live</a>{% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p style="color:var(--text-muted)">No projects added yet.</p>
    {% endif %}
  </div>
</section>

<!-- ── Certificates ─────────────────── -->
<section id="certificates">
  <div class="container">
    <p class="section-label">Achievements</p>
    <h2 class="section-title">My <span>Certificates</span></h2>
    {% if cert_categories %}
    <div class="filter-bar">
      <button class="filter-btn active" onclick="filterCerts('all',this)">All</button>
      {% for cat in cert_categories %}<button class="filter-btn" onclick="filterCerts('{{ cat }}',this)">{{ cat }}</button>{% endfor %}
    </div>
    {% endif %}
    {% if certificates %}
    <div class="cert-grid" id="certGrid">
      {% for cert in certificates %}
      <div class="cert-card" data-cat="{{ cert.category or 'all' }}">
        <div class="cert-img-wrap" onclick="openLightbox('{% if cert.image %}{{ url_for('static', filename=cert.image) }}{% endif %}')">
          {% if cert.image %}
          <img class="cert-img" src="{{ url_for('static', filename=cert.image) }}" alt="{{ cert.title }}">
          <div class="cert-overlay"><i class="fas fa-expand"></i></div>
          {% else %}
          <div class="cert-img-ph"><i class="fas fa-certificate" style="color:var(--accent)"></i><span style="font-size:.8rem;color:var(--text-muted)">No Image</span></div>
          {% endif %}
        </div>
        <div class="cert-body">
          <div class="cert-title">{{ cert.title }}</div>
          {% if cert.issuer %}<div class="cert-issuer"><i class="fas fa-building"></i>{{ cert.issuer }}</div>{% endif %}
          {% if cert.date %}<div class="cert-date"><i class="fas fa-calendar" style="margin-right:.3rem"></i>{{ cert.date }}</div>{% endif %}
          {% if cert.credential_id %}<div class="cert-id">ID: {{ cert.credential_id }}</div>{% endif %}
          {% if cert.credential_url %}
          <a href="{{ cert.credential_url }}" target="_blank" class="btn btn-outline btn-sm" style="margin-top:.75rem"><i class="fas fa-external-link-alt"></i> Verify</a>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p style="color:var(--text-muted)">No certificates added yet.</p>
    {% endif %}
  </div>
</section>

<!-- ── Contact ─────────────────────── -->
<section id="contact">
  <div class="container">
    <p class="section-label">Get In Touch</p>
    <h2 class="section-title">Contact <span>Me</span></h2>
    <div class="contact-grid">
      <div>
        {% if student.email %}
        <div class="contact-item"><div class="contact-icon"><i class="fas fa-envelope"></i></div><div><div class="contact-label">Email</div><div class="contact-value">{{ student.email }}</div></div></div>
        {% endif %}
        {% if student.phone %}
        <div class="contact-item"><div class="contact-icon"><i class="fas fa-phone"></i></div><div><div class="contact-label">Phone</div><div class="contact-value">{{ student.phone }}</div></div></div>
        {% endif %}
        {% if student.location %}
        <div class="contact-item"><div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div><div><div class="contact-label">Location</div><div class="contact-value">{{ student.location }}</div></div></div>
        {% endif %}
        <div class="social-links">
          {% if student.github %}<a href="{{ student.github }}" target="_blank" class="social-link"><i class="fab fa-github"></i> GitHub</a>{% endif %}
          {% if student.linkedin %}<a href="{{ student.linkedin }}" target="_blank" class="social-link"><i class="fab fa-linkedin-in"></i> LinkedIn</a>{% endif %}
          {% if student.twitter %}<a href="{{ student.twitter }}" target="_blank" class="social-link"><i class="fab fa-twitter"></i> Twitter</a>{% endif %}
        </div>
      </div>
      <div style="background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:2rem;">
        <h3 style="font-family:var(--font-display);font-size:1.4rem;margin-bottom:1rem;">Send a <span style="color:var(--accent)">Message</span></h3>
        <form onsubmit="handleContact(event)">
          <div style="margin-bottom:1rem"><label style="font-size:.85rem;font-weight:500;display:block;margin-bottom:.4rem;">Your Name</label><input type="text" placeholder="John Doe" style="width:100%;padding:.7rem 1rem;background:var(--surface2);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:var(--font-body);font-size:.9rem;outline:none;transition:border .2s" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'"></div>
          <div style="margin-bottom:1rem"><label style="font-size:.85rem;font-weight:500;display:block;margin-bottom:.4rem;">Email</label><input type="email" placeholder="john@example.com" style="width:100%;padding:.7rem 1rem;background:var(--surface2);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:var(--font-body);font-size:.9rem;outline:none;transition:border .2s" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'"></div>
          <div style="margin-bottom:1.25rem"><label style="font-size:.85rem;font-weight:500;display:block;margin-bottom:.4rem;">Message</label><textarea rows="4" placeholder="Your message..." style="width:100%;padding:.7rem 1rem;background:var(--surface2);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:var(--font-body);font-size:.9rem;outline:none;resize:vertical;transition:border .2s" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'"></textarea></div>
          <button type="submit" class="btn btn-primary" style="width:100%;justify-content:center;"><i class="fas fa-paper-plane"></i> Send Message</button>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <button class="lightbox-close"><i class="fas fa-times"></i></button>
  <img id="lightboxImg" src="" alt="Certificate">
</div>
{% endblock %}

{% block extra_js %}
<script>
function filterProjects(cat, btn){
  document.querySelectorAll('#projectGrid .project-card').forEach(c=>{
    c.style.display=(cat==='all'||c.dataset.cat===cat)?'':'none';
  });
  document.querySelectorAll('.filter-bar button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}
function filterCerts(cat, btn){
  document.querySelectorAll('#certGrid .cert-card').forEach(c=>{
    c.style.display=(cat==='all'||c.dataset.cat===cat)?'':'none';
  });
  document.querySelectorAll('.filter-bar button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}
function openLightbox(src){
  if(!src)return;
  document.getElementById('lightboxImg').src=src;
  document.getElementById('lightbox').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeLightbox(){
  document.getElementById('lightbox').classList.remove('open');
  document.body.style.overflow='';
}
function handleContact(e){
  e.preventDefault();
  alert('Thank you for your message! (Configure your email backend to receive messages.)');
}
// Entrance animations
const obs=new IntersectionObserver((entries)=>entries.forEach(e=>{if(e.isIntersecting)e.target.style.animation='fadeUp .5s ease forwards';}),{threshold:.1});
document.querySelectorAll('.project-card,.cert-card,.timeline-item,.exp-card').forEach(el=>{
  el.style.opacity='0';
  el.style.transform='translateY(20px)';
  obs.observe(el);
});
document.head.insertAdjacentHTML('beforeend','<style>@keyframes fadeUp{to{opacity:1;transform:none}}</style>');
</script>
{% endblock %}
