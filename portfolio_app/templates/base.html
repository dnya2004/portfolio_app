<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Portfolio{% endblock %}</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
/* ── Design Tokens ─────────────────────────── */
:root{
  --font-display:'Playfair Display',serif;
  --font-body:'DM Sans',sans-serif;

  /* Light */
  --bg:#f8f5f0;
  --surface:#ffffff;
  --surface2:#f0ece6;
  --border:#e5ddd5;
  --text:#1a1410;
  --text-muted:#6b5f54;
  --accent:#c8621a;
  --accent-2:#2563eb;
  --accent-glow:rgba(200,98,26,.15);
  --card-shadow:0 4px 24px rgba(0,0,0,.08);
  --nav-bg:rgba(248,245,240,.92);
}
[data-theme="dark"]{
  --bg:#0f0e0c;
  --surface:#1a1815;
  --surface2:#231f1b;
  --border:#2e2924;
  --text:#f5f0eb;
  --text-muted:#9a8e84;
  --accent:#e8824a;
  --accent-2:#60a5fa;
  --accent-glow:rgba(232,130,74,.12);
  --card-shadow:0 4px 32px rgba(0,0,0,.4);
  --nav-bg:rgba(15,14,12,.92);
}

*{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;}
body{background:var(--bg);color:var(--text);font-family:var(--font-body);font-size:16px;line-height:1.6;transition:background .3s,color .3s;}

a{color:var(--accent);text-decoration:none;}
a:hover{opacity:.8;}
img{max-width:100%;display:block;}

/* ── Nav ───────────────────────────────────── */
.nav{position:fixed;top:0;left:0;right:0;z-index:999;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);background:var(--nav-bg);border-bottom:1px solid var(--border);padding:0 2rem;height:68px;display:flex;align-items:center;justify-content:space-between;transition:background .3s;}
.nav-brand{font-family:var(--font-display);font-size:1.4rem;font-weight:700;color:var(--text);letter-spacing:-.02em;}
.nav-brand span{color:var(--accent);}
.nav-links{display:flex;align-items:center;gap:2rem;list-style:none;}
.nav-links a{font-size:.9rem;font-weight:500;color:var(--text-muted);transition:color .2s;}
.nav-links a:hover{color:var(--accent);}
.nav-right{display:flex;align-items:center;gap:1rem;}
.theme-btn{background:var(--surface2);border:1px solid var(--border);color:var(--text);width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1rem;transition:all .2s;}
.theme-btn:hover{border-color:var(--accent);color:var(--accent);}
.burger{display:none;background:none;border:none;cursor:pointer;color:var(--text);font-size:1.3rem;}

/* ── Flash Messages ────────────────────────── */
.flash-container{position:fixed;top:80px;right:1.5rem;z-index:1200;display:flex;flex-direction:column;gap:.5rem;}
.flash{padding:.75rem 1.25rem;border-radius:10px;font-size:.9rem;font-weight:500;box-shadow:var(--card-shadow);animation:slideIn .3s ease;display:flex;align-items:center;gap:.5rem;}
.flash.success{background:#d1fae5;color:#065f46;border:1px solid #6ee7b7;}
.flash.error{background:#fee2e2;color:#991b1b;border:1px solid #fca5a5;}
[data-theme="dark"] .flash.success{background:#064e3b;color:#6ee7b7;border-color:#065f46;}
[data-theme="dark"] .flash.error{background:#7f1d1d;color:#fca5a5;border-color:#991b1b;}
@keyframes slideIn{from{opacity:0;transform:translateX(20px);}to{opacity:1;transform:translateX(0);}}

/* ── Sections ─────────────────────────────── */
section{padding:5rem 0;}
.container{max-width:1200px;margin:0 auto;padding:0 2rem;}
.section-label{font-size:.8rem;font-weight:600;letter-spacing:.15em;text-transform:uppercase;color:var(--accent);margin-bottom:.75rem;}
.section-title{font-family:var(--font-display);font-size:clamp(2rem,4vw,3rem);font-weight:900;line-height:1.15;margin-bottom:1.5rem;}
.section-title span{color:var(--accent);}

/* ── Cards ────────────────────────────────── */
.card{background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden;transition:transform .25s,box-shadow .25s;box-shadow:var(--card-shadow);}
.card:hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,.12);}

/* ── Badges ───────────────────────────────── */
.badge{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:100px;font-size:.78rem;font-weight:600;background:var(--accent-glow);color:var(--accent);border:1px solid var(--accent);gap:.3rem;}
.badge-blue{background:rgba(37,99,235,.1);color:var(--accent-2);border-color:var(--accent-2);}

/* ── Buttons ──────────────────────────────── */
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.65rem 1.4rem;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;border:none;font-family:var(--font-body);}
.btn-primary{background:var(--accent);color:#fff;}
.btn-primary:hover{opacity:.88;color:#fff;}
.btn-outline{background:transparent;color:var(--text);border:1.5px solid var(--border);}
.btn-outline:hover{border-color:var(--accent);color:var(--accent);}
.btn-sm{padding:.45rem 1rem;font-size:.82rem;}
.btn-danger{background:#ef4444;color:#fff;}
.btn-danger:hover{background:#dc2626;color:#fff;}

/* ── Grid Utilities ───────────────────────── */
.grid-2{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:1.5rem;}
.grid-3{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;}

/* ── Footer ───────────────────────────────── */
footer{background:var(--surface);border-top:1px solid var(--border);padding:2.5rem 0;text-align:center;color:var(--text-muted);font-size:.9rem;}
footer a{color:var(--accent);}

/* ── Responsive ───────────────────────────── */
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:68px;left:0;right:0;background:var(--surface);padding:1rem 2rem;flex-direction:column;align-items:flex-start;gap:1rem;border-bottom:1px solid var(--border);}
  .nav-links.open{display:flex;}
  .burger{display:block;}
  section{padding:3.5rem 0;}
}

/* ── Scrollbar ────────────────────────────── */
::-webkit-scrollbar{width:6px;}
::-webkit-scrollbar-track{background:var(--bg);}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px;}
::-webkit-scrollbar-thumb:hover{background:var(--accent);}

{% block extra_css %}{% endblock %}
</style>
</head>
<body>

<nav class="nav">
  <a class="nav-brand" href="/">Port<span>.</span>folio</a>
  <ul class="nav-links" id="navLinks">
    {% block nav_links %}
    <li><a href="/#about">About</a></li>
    <li><a href="/#education">Education</a></li>
    <li><a href="/#experience">Experience</a></li>
    <li><a href="/#projects">Projects</a></li>
    <li><a href="/#certificates">Certificates</a></li>
    <li><a href="/#contact">Contact</a></li>
    {% endblock %}
  </ul>
  <div class="nav-right">
    <button class="theme-btn" onclick="toggleTheme()" title="Toggle theme">
      <i class="fas fa-sun" id="themeIcon"></i>
    </button>
    {% if session.admin_id %}
    <a href="{{ url_for('admin_dashboard') }}" class="btn btn-primary btn-sm"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
    <a href="{{ url_for('admin_logout') }}" class="btn btn-outline btn-sm">Logout</a>
    {% else %}
    <a href="{{ url_for('admin_login') }}" class="btn btn-outline btn-sm"><i class="fas fa-lock"></i> Admin</a>
    {% endif %}
    <button class="burger" onclick="toggleNav()"><i class="fas fa-bars"></i></button>
  </div>
</nav>

<div class="flash-container">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% for cat, msg in messages %}
    <div class="flash {{ cat }}">
      <i class="fas fa-{% if cat == 'success' %}check-circle{% else %}exclamation-circle{% endif %}"></i>
      {{ msg }}
    </div>
    {% endfor %}
  {% endwith %}
</div>

<main>{% block content %}{% endblock %}</main>

<footer>
  <div class="container">
    <p>Crafted with <i class="fas fa-heart" style="color:var(--accent)"></i> &mdash; <a href="/admin">Admin Panel</a></p>
  </div>
</footer>

<script>
function toggleTheme(){
  const html=document.documentElement;
  const isDark=html.getAttribute('data-theme')==='dark';
  html.setAttribute('data-theme',isDark?'light':'dark');
  document.getElementById('themeIcon').className=isDark?'fas fa-sun':'fas fa-moon';
  localStorage.setItem('theme',isDark?'light':'dark');
}
function toggleNav(){
  document.getElementById('navLinks').classList.toggle('open');
}
(function(){
  const t=localStorage.getItem('theme')||'light';
  document.documentElement.setAttribute('data-theme',t);
  document.getElementById('themeIcon').className=t==='dark'?'fas fa-moon':'fas fa-sun';
})();
// Auto-hide flash
setTimeout(()=>{document.querySelectorAll('.flash').forEach(f=>f.style.opacity='0');},4000);
</script>
{% block extra_js %}{% endblock %}
</body>
</html>
